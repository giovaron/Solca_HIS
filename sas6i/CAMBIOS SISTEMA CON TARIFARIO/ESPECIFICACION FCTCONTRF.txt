CREATE OR REPLACE PACKAGE "FCTCONTRF" IS
-- Sub-Program Unit Declarations
------------------------------ FUNCIONES AÑADIDAS POR RINA PARA RECATEGORIZAR CUENTAS  ---------------
FUNCTION DEVUELVE_PORCENTAJE_PRM
 (VTIPOCRG IN VARCHAR2
 ,VCODCRG IN VARCHAR2
 ,VPCN_NUMERO_HC IN NUMBER
 ,vPrmPcn VARCHAR2
 )
 RETURN NUMBER;
 
PROCEDURE RECATEGORIZAR_CUENTA_POR_HC
(VPCN_NUMERO_HC IN NUMBER);

 
PROCEDURE RECATEGORIZAR_CUENTA
(VPCN_NUMERO_HC IN NUMBER,FECHA_INICIAL IN DATE,FECHA_FINAL IN DATE,PROMO IN VARCHAR);

PROCEDURE RECATEGORIZAR_CUENTA_PRD
(FECHA_INICIAL IN DATE,FECHA_FINAL IN DATE);

------------------------------ FUNCIONES AÑADIDAS POR RINA PARA RECATEGORIZAR CUENTAS  ---------------
FUNCTION DEVUELVE_CONVENIO
 (NNUMEROHC NUMBER
 ,DFECHA DATE
  ,PRM_CODIGO IN OUT VARCHAR
 )
 RETURN VARCHAR2;
 
 
PROCEDURE CARGAR_CUENTA_TRF 
(PCN_NUMERO_HC IN NUMBER,
P_DPR_ARA_CODIGO IN CHAR,
P_DPR_CODIGO IN CHAR,
P_EMP_CODIGO IN CHAR,
P_DOCUMENTO IN CHAR,
P_NUMERO IN CHAR,
P_DETALLE IN CHAR);
  
PROCEDURE CARGAR_HONORARIO_TRF
 (P_NUMERO IN CUENTAS.NUMERO%TYPE
 ,P_BENEFICIARIO IN PERSONAL.CODIGO%TYPE
 ,P_ID IN CUENTAS.DETALLE%TYPE
 ,P_CANTIDAD IN CUENTAS.CANTIDAD%TYPE
 ,P_DOCUMENTO IN CUENTAS.DOCUMENTO%TYPE
 ,P_PCN_NUMERO_HC IN CUENTAS.PCN_NUMERO_HC%TYPE
 ,P_INS_OR_DEL IN VARCHAR2
 ,P_FECHA IN DATE := NULL
 ,P_TIPO_REMUNERACION IN VARCHAR2 := 'HNR'
 ,P_EVLCLN IN HOJAS_DE_EVOLUCION.NUMERO%TYPE
 ,P_PRCHSP_CODIGO IN PROCEDIMIENTOS_HOSPITALARIOS.CODIGO%TYPE
 ,P_LATERALIDAD IN PROCEDIMIENTOS_REALIZADOS.LATERALIDAD%TYPE
 ,P_CASO IN NUMBER := 4
 ,P_CONDICION IN NUMBER  := 1
 ,P_DIVISOR IN NUMBER := 1
 ,P_POOL IN NUMBER := 0
 ,P_DURACION IN NUMBER:=0
 ,P_AREA IN VARCHAR2
 ,P_DEPARTAMENTO IN VARCHAR2
 ,P_EMP_CODIGO IN CHAR
 ); 
 /* Genera los honorarios médicos de acuerdo a los proceidmientos realizad */
PROCEDURE CARGAR_HONORARIO_POR_PROC_TRF
 (P_NUMPARTE IN NUMBER
 ,P_DOCUMENTO IN CUENTAS.DOCUMENTO%TYPE
 ,P_PCN_NUMERO_HC IN CUENTAS.PCN_NUMERO_HC%TYPE
 ,P_BENEFICIARIO IN PERSONAL.CODIGO%TYPE := NULL 
 ,P_FECHA IN DATE := NULL
 ,P_TIPO_REMUNERACION IN VARCHAR2 := 'HNR'
 ,P_EVLCLN IN HOJAS_DE_EVOLUCION.NUMERO%TYPE
 ,P_INS_OR_DEL IN VARCHAR2
 ,P_POOL IN NUMBER := 0
 ,P_DURACION IN NUMBER :=0 
 ,P_AREA IN VARCHAR2
 ,P_DEPARTAMENTO IN VARCHAR2 
 ,P_EMP_CODIGO IN CHAR
 );
 PROCEDURE CARGAR_DERECHO_QUIROFANO
 ( VTARIFARIO IN VARCHAR2
  ,DFECHA DATE
  ,vOpr IN VARCHAR2  
  ,nPrtOpr IN NUMBER 
  ,nHC IN NUMBER
  ,vlateralidad IN VARCHAR2
  ,nduracion IN NUMBER
  ,varea IN VARCHAR2
  ,vdepartamento IN VARCHAR2);
END FCTCONTRF;
