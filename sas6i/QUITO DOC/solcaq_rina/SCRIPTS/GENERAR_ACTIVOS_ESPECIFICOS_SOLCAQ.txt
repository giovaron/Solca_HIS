DECLARE
FECHA DATE;
I NUMBER;
J NUMBER;
CODIGO VARCHAR2(25);
CURSOR ACTIVOS IS
SELECT * FROM ACTIVOS_FIJOS_GENERALES
ORDER BY DESCRIPCION,FECHA_INGRESO;
BEGIN
   FOR RACTIVOS IN ACTIVOS LOOP
      BEGIN
      DECLARE CURSOR ACTIVOS_C IS 
      SELECT NUMERO_SERIE,CODIGO_PROPIO,UBICACION
      FROM ACTIVOS_FIJOS_MAESTRO A
      WHERE A.DESCRIPCION = RACTIVOS.DESCRIPCION,
            A.FECHA_INGRESO = RACTIVOS.FECHA_INGRESO
            ORDER BY DESCRIPCION,FECHA_INGRESO;
      BEGIN  
      FOR I IN 1..RACTIVOS.CANTIDAD_INICIAL LOOP
         CODIGO:=TO_CHAR(RACTIVOS.SBGACTFJO_GRPACTFJO_CODIGO,'FM0009')||'.'||TO_CHAR(SBGACTFJO_CODIGO,'FM0009')||'.'||TO_CHAR(CODIGO,'FM0009')||'.'||TO_CHAR(I,'FM0009');
         INSERT INTO ACTIVOS_FIJOS_ESPECIFICOS (SBGACTFJO_GRPACTFJO_EMP_CODIGO,
                ACTFSBGACTFJO_GRPACTFJO_CODIGO,ACTFJOGNR_SBGACTFJO_CODIGO,ACTFJOGNR_CODIGO,               
                CODIGO,DESCRIPCION,PRVACTFJO_EMP_CODIGO,PRVACTFJO_CODIGO,INGACTFJO_EMP_CODIGO,           
                INGACTFJO_NUMERO,FECHA_INGRESO,FECHA_BAJA,TIPO,VALOR_INICIAL,VALOR_ACTUAL,                   
                IVA,MARCA,MODELO,NUMERO_SERIE,VIDA_UTIL,PORCENTAJE_DEPRECIACION,        
                PORCENTAJE_REVALORIZACION,ESTADO,ESTADO_DE_DISPONIBILIDAD,ESTADO_DE_ASIGNACION,           
                OBSERVACIONES,CONTABILIZADO,CODIGO_PROPIO,NUMERO_ASIGNACION,UBICACION)              
         VALUES('CSI',RACTIVOS.SBGACTFJO_GRPACTFJO_CODIGO,RACTIVOS.SBGACTFJO_CODIGO,RACTIVOS.CODIGO,I,RACTIVOS.DESCRIPCION,
                NULL,NULL,NULL,NULL,RACTIVOS.FECHA_INGRESO,NULL,RACTIVOS.TIPO,RACTIVOS.VALOR_INICIAL,
                RACTIVOS.VALOR_ACTUAL,RACTIVOS.IVA,RACTIVOS.MARCA,RACTIVOS.MODELO,NULL,RACTIVOS.VIDA_UTIL,
                RACTIVOS.PORCENTAJE_DEPRECIACION,RACTIVOS.PORCENTAJE_REVALORIZACION,RACTIVOS.CODIGO_PROPIO,
                RACTIVOS.ESTADO_DE_DISPONIBILIDAD,'F',RACTIVOS.OBSERVACIONES,'V',NULL,NULL,NULL);
      END LOOP;
      I:= 
      FOR RMAESTRO IN ACTIVOS_C LOOP
         E 
      END LOOP; 
      COMMIT;
      END;
      END; 
   END LOOP;
END;
/
